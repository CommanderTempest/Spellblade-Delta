[gd_scene load_steps=6 format=3 uid="uid://vnqpcdri4l71"]

[ext_resource type="PackedScene" uid="uid://0l27d06sjlr" path="res://humanoid.tscn" id="1_62ngj"]
[ext_resource type="Script" path="res://Player/player.gd" id="1_ouyv8"]
[ext_resource type="PackedScene" uid="uid://d0n831ywfiu6d" path="res://Weapons/sword.tscn" id="2_oomtw"]
[ext_resource type="Script" path="res://Player/SmoothCamera.gd" id="3_uqja8"]
[ext_resource type="Script" path="res://Player/Crosshair.gd" id="4_id8cv"]

[node name="Player" node_paths=PackedStringArray("weapon") groups=["Player"] instance=ExtResource("1_62ngj")]
script = ExtResource("1_ouyv8")
weapon = NodePath("Right-Arm/Sword")

[node name="Torso" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)

[node name="Head" parent="." index="1"]
transform = Transform3D(-1, 0, -0.000502737, 0, 1, 0, 0.000502737, 0, -1, 0, 2.25, 0)

[node name="Sword" parent="Right-Arm" index="0" instance=ExtResource("2_oomtw")]
transform = Transform3D(0.6, 0, 0, 0, -5.68248e-08, -0.6, 0, 1.3, -2.62268e-08, -1.62429, -0.638376, 0.98565)

[node name="CenterContainer" type="CenterContainer" parent="." index="8"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Crosshair" type="Control" parent="CenterContainer" index="0"]
layout_mode = 2
script = ExtResource("4_id8cv")

[node name="CameraPivot" type="Node3D" parent="." index="9"]
transform = Transform3D(-1, 3.69465e-08, -7.92319e-08, 0, 0.906308, 0.422618, 8.74228e-08, 0.422618, -0.906308, 0, 3.078, -2.5)

[node name="SmoothCamera" type="Camera3D" parent="CameraPivot" index="0"]
script = ExtResource("3_uqja8")

[node name="Timers" type="Node" parent="." index="10"]

[node name="Dodge_CD" type="Timer" parent="Timers" index="0"]
wait_time = 3.0

[node name="Parry_CD" type="Timer" parent="Timers" index="1"]
wait_time = 3.0

[node name="Block_CD" type="Timer" parent="Timers" index="2"]
wait_time = 3.0

[node name="Parry_Timer" type="Timer" parent="Timers" index="3"]

[node name="Dodge_Timer" type="Timer" parent="Timers" index="4"]

[node name="Swing_Timer" type="Timer" parent="Timers" index="5"]

[node name="Combo_Timer" type="Timer" parent="Timers" index="6"]

[connection signal="timeout" from="Timers/Dodge_CD" to="." method="_on_dodge_cd_timeout"]
[connection signal="timeout" from="Timers/Parry_CD" to="." method="_on_parry_cd_timeout"]
[connection signal="timeout" from="Timers/Block_CD" to="." method="_on_block_cd_timeout"]
[connection signal="timeout" from="Timers/Parry_Timer" to="." method="_on_parry_timer_timeout"]
[connection signal="timeout" from="Timers/Dodge_Timer" to="." method="_on_dodge_timer_timeout"]
[connection signal="timeout" from="Timers/Swing_Timer" to="." method="_on_swing_timer_timeout"]
